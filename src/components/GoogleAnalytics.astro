---
// Google Analytics 4 with Consent Mode
const GA_TRACKING_ID = 'G-XXXXXXXXXX'; // Replace with actual GA4 tracking ID
---

<!-- Google tag (gtag.js) -->
<script async src={`https://www.googletagmanager.com/gtag/js?id=${GA_TRACKING_ID}`}></script>
<script define:vars={{ GA_TRACKING_ID }}>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  
  // Set default consent state
  gtag('consent', 'default', {
    analytics_storage: 'denied',
    ad_storage: 'denied',
    ad_user_data: 'denied',
    ad_personalization: 'denied',
    wait_for_update: 500,
  });
  
  // Initialize GA4
  gtag('js', new Date());
  gtag('config', GA_TRACKING_ID, {
    anonymize_ip: true,
    allow_google_signals: false,
    cookie_flags: 'SameSite=None;Secure'
  });
  
  // Track page views
  gtag('event', 'page_view', {
    page_title: document.title,
    page_location: window.location.href,
  });
</script>

<!-- Google Search Console Verification -->
<meta name="google-site-verification" content="your-google-search-console-verification-code">

<!-- Content Security Policy disabled for Calendly compatibility -->
<!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com https://assets.calendly.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://www.google-analytics.com https://api.calendly.com; frame-src 'self' https://calendly.com; child-src https://calendly.com;"> -->

<!-- Structured Data for Organization -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Isaac Benyakar - SEO Expert & Web Developer",
  "url": "https://isaacbenyakar.com",
  "logo": "https://isaacbenyakar.com/logo.png",
  "description": "Professional SEO expert and web developer helping businesses dominate local search results and grow online presence.",
  "founder": {
    "@type": "Person",
    "name": "Isaac Benyakar",
    "jobTitle": "SEO Expert & Web Developer",
    "url": "https://isaacbenyakar.com",
    "sameAs": [
      "https://github.com/isaacbenyakar",
      "https://linkedin.com/in/isaacbenyakar"
    ]
  },
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": "+1-305-393-3009",
    "email": "iby@isaacbenyakar.com",
    "contactType": "customer service",
    "availableLanguage": "English"
  },
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "United States",
    "addressRegion": "FL"
  },
  "serviceArea": {
    "@type": "Country",
    "name": "United States"
  },
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "SEO and Web Development Services",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Local SEO Services",
          "description": "Professional local SEO optimization to help businesses dominate local search results"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service", 
          "name": "Web Development",
          "description": "Custom website development and optimization for businesses"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "SEO Consulting",
          "description": "Expert SEO strategy and consulting services for businesses"
        }
      }
    ]
  }
}
</script>